

- https://leetcode.com/problems/3sum/
  - å…ˆhash ä¸¤æ•°ä¹‹å’Œ, ç„¶åå†æ‰¾ç¬¬ä¸‰ä¸ª, ä¼šå¯¼è‡´å…ƒç´ é‡å¤è®¡ç®—.


```py
class Solution(object):
    def threeSum(self, nums):
        if len(nums) < 3:
            return []
        nums.sort()
        res = set()
        for i, v in enumerate(nums[:-2]):
            if i >= 1 and v == nums[i-1]:
                continue
            d = {}
            for x in nums[i+1:]:
                if x not in d:
                    d[-v-x] = 1
                else:
                    res.add((v, -v-x, x))
        return map(list, res)
```

- ğŸ”¥. hash å¯¹è±¡çš„å…ƒç´ å¿…é¡»å¾—æ˜¯ hashable çš„
  - é—®é¢˜: list / dict ç­‰å¯¹è±¡æ˜¯ mutable çš„, å› æ­¤ä¸èƒ½åŠ å…¥ hash å…ƒç´ ä¸­, æ¯”å¦‚ `set_a.add(list_b)`å°±ä¼šæŠ¥é”™.
  - è§£å†³æ–¹æ³•:
    - list: ç”¨ tuple ä»£æ›¿
    - set: ç”¨ frozenset ä»£æ›¿
    - dict: https://stackoverflow.com/questions/1151658/python-hashable-dicts
  - æ‰©å±•é˜…è¯»
    - https://stackoverflow.com/questions/1306631/python-add-list-to-set






```py
from typing import List

class Solution:
    def threeSum(self, nums: List[int]) -> List[List[int]]:
        # å°† ä¸¤æ•°ä¹‹å’Œ å…¥hash
        # ä¸€å±‚å¾ªç¯æ‰¾åˆ°
        triplets = set()
        two_sum_hash = dict()
        
        nums_len = len(nums)
        for i in range(nums_len-1):
            for j in range(i+1, nums_len):
                sum2 = nums[i] + nums[j]
                
                if sum2 not in two_sum_hash:
                    two_sum_hash[sum2] = (nums[i], nums[j])
        
        for i in nums:
            if -i in two_sum_hash:
                twilet = two_sum_hash[-i]
                triplets.add(tuple(sorted([twilet[0], twilet[1], i]))) # ç”±äºlistæ˜¯mutableçš„,å› æ­¤ä¸èƒ½åŠ å…¥set.ç”¨tupleå°±æ²¡é—®é¢˜äº†
                
        return list(triplets) # æœ€åå»é‡
            

sol = Solution().threeSum([-1, 0, 1, 2, -1, -4])
# [(-1, 1, 0), (-1, -1, 2), (2, 2, -4), (-1, 0, 1), (-1, 2, -1)]
print(sol)
expect = [[-1,-1,2],[-1,0,1]]
```